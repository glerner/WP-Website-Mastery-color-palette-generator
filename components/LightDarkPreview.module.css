.previewSection {
  margin-top: var(--spacing-8);
  /* Ensure the whole header band follows the selected scheme */
  background: var(--background);
  color: var(--foreground);
  /* Avoid margin-collapsing so the background actually paints */
  padding: var(--spacing-4) var(--spacing-4) 0;
  border-radius: var(--radius-lg);
}

.sectionTitle {
  font-size: var(--cf-text-l);
  color: var(--foreground);
  margin: 0 0 var(--spacing-2);
}

.sectionSubtitle {
  color: light-dark(
    color-mix(in oklab, var(--text-on-light) 75%, transparent),
    color-mix(in oklab, var(--text-on-dark) 75%, transparent)
  );
  margin-bottom: var(--spacing-3);
}

.previewControls {
  display: inline-flex;
  gap: var(--spacing-2);
  background: light-dark(var(--ldp-accent-lighter), var(--ldp-accent-darker));
  color: light-dark(var(--text-on-light), var(--text-on-dark));
  padding: 4px 8px; /* extra horizontal padding so rightmost button never touches edge */
  border-radius: var(--radius-md);
  margin-bottom: var(--spacing-4);
  box-shadow: 0 0 0 1px var(--border) inset;
  width: fit-content; /* ensure container wraps content width exactly */
}

.previewButton {
  appearance: none;
  border: none;
  background: transparent;
  color: var(--card-foreground);
  padding: 6px 10px;
  border-radius: var(--radius-sm);
  cursor: pointer;
}

.previewButtonActive {
  background: light-dark(var(--ldp-accent-light), var(--ldp-accent-dark));
  color: light-dark(var(--text-on-light), var(--text-on-dark));
  box-shadow: 0 0 0 1px var(--border) inset;
}

.previewWrapper {
  border-radius: var(--radius-lg);
  padding: var(--spacing-8);
  background: var(--card);
  border: 1px solid var(--border);
}

/* Full-width band that previews the container background/foreground via light-dark() */
.surfaceBand {
  height: auto;
  border-radius: var(--radius-md);
  margin: 0 0 var(--spacing-4);
  box-shadow: inset 0 0 0 1px var(--border);
}

.previewGrid {
  display: grid;
  /* Responsive: allow 1â€“3 columns depending on width */
  grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
  gap: var(--spacing-3);
}

/* Space between multiple grids when stacking */
.previewGrid + .previewGrid {
  margin-top: var(--spacing-4);
}

.swatch {
  height: 80px;
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  /* allow labels like "Primary Surface Accent" to wrap when narrow */
  white-space: normal;
  text-align: center;
  line-height: 1.2;
  padding: 0 8px;
}

@media (max-width: 420px) {
  .previewWrapper {
    padding: var(--spacing-3);
  }
  .previewGrid {
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    gap: var(--spacing-2);
  }
  .swatch {
    font-size: var(--cf-text-s);
  }
}
